<!--
Copyright (c) 2025 Hugo Monteiro
Licensed under the MIT License. See LICENSE file in the project root for license information.
-->
<Window x:Class="StockTicker.LogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Log Messages - BitTicker" Height="500" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E1E">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" Text="HTTP Debug Log Messages" 
                       Foreground="White" FontSize="16" FontWeight="Bold" 
                       VerticalAlignment="Center"/>

            <CheckBox Grid.Column="1" x:Name="AutoScrollCheckBox" 
                      Content="Auto-scroll" Foreground="White" 
                      IsChecked="True" Margin="0,0,15,0"
                      VerticalAlignment="Center"/>

            <Button Grid.Column="2" x:Name="ClearButton" Content="Clear" 
                    Width="60" Height="25" Margin="0,0,10,0"
                    Background="#666666" Foreground="White" 
                    BorderBrush="#888888" Click="Clear_Click"/>

            <Button Grid.Column="3" x:Name="CloseButton" Content="Close" 
                    Width="60" Height="25"
                    Background="#0078D4" Foreground="White" 
                    BorderBrush="#0078D4" Click="Close_Click"/>
        </Grid>

        <!-- Log Messages List -->
        <Border Grid.Row="1" BorderBrush="#333333" BorderThickness="1" CornerRadius="3">
            <ScrollViewer x:Name="LogScrollViewer" 
                          Background="#2D2D2D"
                          HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="LogItemsControl" 
                              ItemsSource="{Binding LogEntries}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Padding="5,2" 
                                    BorderBrush="#404040" 
                                    BorderThickness="0,0,0,1">
                                <TextBlock Text="{Binding FormattedMessage}" 
                                          Foreground="{Binding LevelColor}"
                                          FontFamily="Consolas, Courier New"
                                          FontSize="12"
                                          TextWrapping="NoWrap"/>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Status Bar -->
        <Grid Grid.Row="2" Margin="0,5,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" x:Name="StatusText" 
                       Text="Ready - Log messages will appear here"
                       Foreground="#CCCCCC" FontSize="10"/>

            <TextBlock Grid.Column="1" x:Name="LogCountText" 
                       Text="0 messages"
                       Foreground="#CCCCCC" FontSize="10"/>
        </Grid>
    </Grid>
</Window>
